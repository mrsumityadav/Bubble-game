<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bubble Game</title>

    <link rel="stylesheet" href="style.css">

</head>

<body>

    <div id="main">
        <div id="ptop">
            <div class="elem">
                <h2>Hit</h2>
                <div id="hitval" class="box">5</div>
            </div>
            <div class="elem">
                <h2>Timer</h2>
                <div class="box" id="timervalue">60</div>
            </div>
            <div class="elem">
                <h2>Score</h2>
                <div id="scoreval" class="box">0</div>
            </div>
        </div>
        <div id="pbtm">
            <div class="bubble">5</div>
        </div>
    </div>

    <script>

        function runTimer() {
            var timer = 60;
            var cleartimer = setInterval(function () {
                if (timer > 0) {
                    timer--;
                    document.querySelector('#timervalue').textContent = timer;
                }
                else {
                    clearInterval(cleartimer)
                }
            }, 1000);
        }
        runTimer();

        function makeBubble() {
            var clutter = "";
            for (var i = 1; i <= 84; i++) {
                var rd = Math.floor(Math.random() * 10)
                clutter += `<div class="bubble">${rd}</div>`
                
            }
            document.querySelector('#pbtm').innerHTML = clutter
        }
        makeBubble()

        var diffHit = 0;
        function newHit() {
            diffHit = Math.floor(Math.random() * 10)
            document.querySelector('#hitval').textContent = diffHit;
        }
        newHit()

        score = 0;
        function increaseScore() {
            score += 10;
            document.querySelector('#scoreval').textContent = score;
        }
        increaseScore();

        document.querySelector('#pbtm').addEventListener('click', function (details) {
            var hitbubble = (Number(details.target.textContent))
            if (diffHit === hitbubble) {
                increaseScore();
                makeBubble();
                newHit();
            }
        })


    </script>

</body>

</html>